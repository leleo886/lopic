import{s as y}from"./axios-Cl3Sb8ms.js";import{d as C,s as m,x as d,c as r,a,l as b,t as s,F,r as I,k as g,I as l,o,E as N,_ as $}from"./index-QwL2gIV2.js";const V={key:0,class:"preview-content"},D={class:"preview-image-container"},M={class:"preview-info"},S={class:"preview-details"},U={key:0,class:"preview-tags"},E=C({__name:"ImagePreviewModal",props:{visible:{type:Boolean},image:{}},emits:["update:visible","close"],setup(p,{emit:_}){const e=p,c=_,u=t=>t.startsWith("http")?t:`${y}${t}`,v=t=>t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`,f=t=>new Date(t).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),w=()=>{c("update:visible",!1),c("close")};return(t,i)=>{const h=l("a-image"),x=l("a-tag"),B=l("a-modal");return o(),m(B,{open:e.visible,"onUpdate:open":i[0]||(i[0]=n=>e.visible=n),title:e.image?.original_name||"图片预览",width:800,footer:null,onCancel:w,class:"image-preview-modal"},{default:d(()=>[e.image?(o(),r("div",V,[a("div",D,[b(h,{src:u(e.image.file_url),alt:e.image.original_name,placeholder:"加载中...",class:"preview-image"},null,8,["src","alt"])]),a("div",M,[a("div",S,[a("p",null,"文件大小："+s(v(e.image.file_size)),1),a("p",null,"图片尺寸："+s(e.image.width)+" x "+s(e.image.height),1),a("p",null,"上传时间："+s(f(e.image.created_at)),1)]),e.image.tags&&e.image.tags.length>0?(o(),r("div",U,[i[1]||(i[1]=a("span",{class:"tags-label"},"标签：",-1)),(o(!0),r(F,null,I(e.image.tags,(n,k)=>(o(),m(x,{key:k,class:"preview-tag"},{default:d(()=>[N(s(n),1)]),_:2},1024))),128))])):g("",!0)])])):g("",!0)]),_:1},8,["open","title"])}}}),T=$(E,[["__scopeId","data-v-6334da40"]]);export{T as I};
